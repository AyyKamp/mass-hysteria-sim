(function(t){function n(n){for(var r,s,o=n[0],l=n[1],u=n[2],f=0,h=[];f<o.length;f++)s=o[f],a[s]&&h.push(a[s][0]),a[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(n);while(h.length)h.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],r=!0,o=1;o<e.length;o++){var l=e[o];0!==a[l]&&(r=!1)}r&&(i.splice(n--,1),t=s(s.s=e[0]))}return t}var r={},a={app:0},i=[];function s(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=r,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)s.d(e,r,function(n){return t[n]}.bind(null,r));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=n,o=o.slice();for(var u=0;u<o.length;u++)n(o[u]);var c=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var r=e("1356"),a=e.n(r);a.a},1356:function(t,n,e){},"4bfd":function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("097d");var r=e("2b0e"),a=e("ce5b"),i=e.n(a),s=e("bb71");e("da64");r["default"].use(s["a"]);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-app",[e("v-toolbar",{attrs:{app:""}},[e("v-toolbar-title",{staticClass:"headline text-uppercase"},[e("span",[t._v("Mass Hysteria")]),e("span",{staticClass:"font-weight-light"},[t._v("Simulator")])]),e("v-spacer"),e("v-btn",{attrs:{flat:"",target:"_blank",href:"https://github.com/AyyKamp/mass-hysteria-sim",rel:"noreferrer"}},[e("span",{staticClass:"mr-2"},[t._v("GitHub")])])],1),e("v-content",[e("Board")],1),e("v-footer",{attrs:{dark:""}},[e("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[t._v("\n      I Made This "),e("img",{staticClass:"smile",attrs:{src:"https://static-cdn.jtvnw.net/emoticons/v1/1/1.0",alt:"gachiGASM",width:"20px"}})])],1)],1)},l=[],u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{attrs:{fluid:"","grid-list-xl":""}},[e("v-layout",{attrs:{wrap:"","align-center":""}},[e("v-flex",{attrs:{lg6:"",sm12:"",xs12:""}},[e("v-btn",{staticClass:"reset-btn-friendly",on:{click:function(n){t.reset("friendly")}}},[t._v("\n        Reset\n      ")]),e("h1",[t._v("Your Board")]),t._l(t.friendlyMinions,function(n){return e("v-chip",{key:n.$,staticClass:"friendly-chip"},[t._v("\n        "+t._s(n.a+"/"+n.h)+"\n        "),e("div",{staticClass:"v-chip__close"},[e("img",{staticClass:"v-icon material-icons theme--light close",attrs:{src:"/assets/material_cancel.svg"},on:{click:function(e){t.delMinion(n.$,"friendly")}}})])])}),e("v-form",[e("v-text-field",{ref:"friendlyAtk",attrs:{label:"Attack",type:"number",required:""},model:{value:t.friendlyCurrent.a,callback:function(n){t.$set(t.friendlyCurrent,"a",n)},expression:"friendlyCurrent.a"}}),e("v-text-field",{attrs:{label:"Health",type:"number",required:""},on:{keydown:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;t.addMinion("friendly",!0)}},model:{value:t.friendlyCurrent.h,callback:function(n){t.$set(t.friendlyCurrent,"h",n)},expression:"friendlyCurrent.h"}}),e("v-btn",{attrs:{color:"primary"},on:{click:function(n){t.addMinion("friendly")}}},[t._v("Add Minion")])],1)],2),e("v-flex",{attrs:{lg6:"",sm12:"",xs12:""}},[e("v-btn",{staticClass:"reset-btn-enemy",on:{click:function(n){t.reset("enemy")}}},[t._v("\n        Reset\n      ")]),e("h1",[t._v("Enemy Board")]),t._l(t.enemyMinions,function(n){return e("v-chip",{key:n.$,staticClass:"enemy-chip"},[t._v("\n        "+t._s(n.a+"/"+n.h)+"\n        "),e("div",{staticClass:"v-chip__close"},[e("img",{staticClass:"v-icon material-icons theme--light close",attrs:{src:"/assets/material_cancel.svg"},on:{click:function(e){t.delMinion(n.$,"enemy")}}})])])}),e("v-form",[e("v-text-field",{ref:"enemyAtk",attrs:{label:"Attack",type:"number",required:""},model:{value:t.enemyCurrent.a,callback:function(n){t.$set(t.enemyCurrent,"a",n)},expression:"enemyCurrent.a"}}),e("v-text-field",{attrs:{label:"Health",type:"number",required:""},on:{keydown:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;t.addMinion("enemy",!0)}},model:{value:t.enemyCurrent.h,callback:function(n){t.$set(t.enemyCurrent,"h",n)},expression:"enemyCurrent.h"}}),e("v-btn",{attrs:{color:"primary"},on:{click:function(n){t.addMinion("enemy")}}},[t._v("Add Minion")])],1)],2),e("v-btn",{staticClass:"simulate-btn",attrs:{color:"error",loading:t.simLoading},on:{click:t.simulate}},[t._v("ＳＩＭＵＬＡＴＥ")]),e("v-flex",{attrs:{xs12:""}},[t.results.length>0?e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.results,"custom-sort":t.minionSort,"sort-icon":"fa-angle-up","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(n){return[e("tr",{class:0===n.item.isEnemy?"friendly-minion":"enemy-minion"},[e("td",[t._v(t._s(n.item.stats))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(Number(n.item.healthAfter.toFixed(2))))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(Number(100*n.item.survival).toFixed(2)+"%"))])])]}}])}):t._e()],1),e("v-snackbar",{attrs:{color:"error",timeout:6e3},model:{value:t.snackbar,callback:function(n){t.snackbar=n},expression:"snackbar"}},[t._v("\n      "+t._s(t.snackText)+"\n      "),e("v-btn",{attrs:{dark:"",flat:""},on:{click:function(n){t.snackbar=!1}}},[t._v("CLOSE")])],1)],1)],1)},c=[],f=(e("55dd"),e("4917"),e("20d6"),e("8dee")),h=e.n(f),d=(e("6c7b"),e("ac6a"),e("5df3"),e("1c4c"),function(t){var n,e,r=t.length;while(0!==r)e=Math.floor(Math.random()*r),r-=1,n=t[r],t[r]=t[e],t[e]=n;return t}),v=function(t){return t.length>1?d(t):t},m=function(t){return Array.from(Array(t).keys())},p=function(t,n,e){for(var r=[],a=0;a<t.length/n;a++){for(var i=[],s=0;s<n;s++)e?i.push(t[a*n+s]):i.push(t[a+n*s]);r.push(i)}return r},y=function(t,n,e,r){for(var a=[],i=0;i<n;i++){for(var s=[],o=0;o<e;o++)s.push(new Array(r).fill(t));a.push(s)}return a},b=function(t){for(var n=t.length/3,e=p(t,3,!0),r=v(m(n)),a=function(t){var a=r[t];if(e[a][1]>0){var i=v(m(n).filter(function(t){return t!==a}));i=i.filter(function(t){return e[t][1]>0}),i.length>0&&(i=i[0],e[a][1]=e[a][1]-e[i][0],e[i][1]=e[i][1]-e[a][0])}},i=0;i<n;i++)a(i);return e},g=function(t,n){var e=t.length/3;if(e%1!==0)return"Invalid Minion Stats.";for(var r=p(t,3,!0),a=[],i=[],s=[],o=0;o<r.length;o++)a.push(r[o][0]),i.push(r[o][1]),s.push(r[o][2]);for(var l=new Array(e).fill(0),u=y(0,e,3,n),c=new Array(n).fill(1),f=0;f<n;f++){for(var h=0;h<u.length;h++)u[h][2][f]=r[h][2];for(var d=b(t),v=0;v<u.length;v++)for(var m=0;m<u[0].length;m++)u[v][m][f]=d[v][m];for(var g=0;g<u.length;g++)l[g]=l[g]+(u[g][1][f]>0?1/n:0),u[g][1][f]*u[g][2][f]>.05&&(c[f]=0)}for(var k=[],_=0;_<u.length;_++){for(var x=0,M=0;M<n;M++)x+=u[_][1][M];k.push(x/n)}for(var C=c.reduce(function(t,n){return t+n})/c.length,w=0,S=0;S<a.length;S++)w+=a[S]*l[S]*s[S];return{attack:a,healthBefore:i,healthAfter:k,survival:l,isEnemy:s,clearChance:C,remainingDamage:w}},k=g,_=function(t,n){return t.isEnemy===n.isEnemy?0:t.isEnemy&&!n.isEnemy?1:!t.isEnemy&&n.isEnemy?-1:void 0},x={data:function(){return{friendlyCurrent:{a:null,h:null,$:h.a.generate()},friendlyMinions:[],enemyCurrent:{a:null,h:null,$:h.a.generate()},enemyMinions:[],snackbar:!1,snackText:null,simLoading:!1,headers:[{text:"Minion",value:"stats"},{text:"Average health after",value:"healthAfter"},{text:"Chance of Survival",value:"survival"}],results:[]}},methods:{addMinion:function(t,n){var e=[t+"Current"];this.validateInput(e)&&(this[t+"Minions"].push(this[e]),this[e]={a:null,h:null,$:h.a.generate()},n&&this.focus(t))},delMinion:function(t,n){this[n+"Minions"].splice(this[n+"Minions"].findIndex(function(n){return n.$===t}),1)},showSnack:function(t){return this.snackbar&&t===this.snackText?void this.shakeItBoi(".v-snack__wrapper"):this.snackbar?void(this.snackText=t):(this.snackbar=!0,void(this.snackText=t))},shakeItBoi:function(t){var n=document.querySelector(t);n.classList.contains("animated")||(n.classList.add("animated"),setTimeout(function(){n.classList.remove("animated")},650))},validateInput:function(t){var n=this[t];return null===n.a||null===n.h?(this.showSnack("Please add some stats"),!1):n.a.match(/[⌃0-9]/)&&n.h.match(/[⌃0-9]/)?0===n.h?(this.showSnack("No 0 HP minions"),!1):!(this.friendlyMinions.length>=7||this.enemyMinions.length>=7)||(this.showSnack("Only 7 Minions allowed"),!1):(this.showSnack("Invalid Input"),!1)},simulate:function(){if(0===this.enemyMinions.length&&0===this.friendlyMinions.length)return this.showSnack("Please add some minions : )");if(1===this.enemyMinions.length&&0===this.friendlyMinions.length||0===this.enemyMinions.length&&1===this.friendlyMinions.length)return this.showSnack("Nothing is going to happen : )");var t=this.friendlyMinions.map(function(t){return[t.a,t.h,0]}).flat(),n=this.enemyMinions.map(function(t){return[t.a,t.h,1]}).flat();this.simLoading=!0;try{var e=k(t.concat(n).map(function(t){return parseInt(t)}),1e4);e=e.attack.map(function(t,n){return{stats:"".concat(t,"/").concat(e.healthBefore[n]),healthAfter:e.healthAfter[n],survival:e.survival[n],isEnemy:e.isEnemy[n]}}),this.results=e.sort(_)}catch(r){this.showSnack(r)}this.simLoading=!1},reset:function(t){this[t+"Minions"]=[];var n=[t+"Current"];this[n]={a:null,h:null,$:h.a.generate()}},minionSort:function(t,n,e){var r=function(t,n){var e=function(t,e){return t[n]-e[n]},r=function(t,e){return e[n]-t[n]};return t?r:e};switch(n){case"stats":return t.sort(_);case"healthAfter":return t.sort(r(e,"healthAfter"));case"survival":return t.sort(r(e,"survival"));default:break}return t},focus:function(t){this.$nextTick(this.$refs[t+"Atk"].focus)}}},M=x,C=(e("b2e8"),e("2877")),w=e("6544"),S=e.n(w),A=e("8336"),$=e("cc20"),V=e("a523"),E=e("8fea"),T=e("0e8f"),O=e("4bd4"),j=e("a722"),B=e("2db4"),I=e("2677"),L=Object(C["a"])(M,u,c,!1,null,null,null);L.options.__file="Board.vue";var P=L.exports;S()(L,{VBtn:A["a"],VChip:$["a"],VContainer:V["a"],VDataTable:E["a"],VFlex:T["a"],VForm:O["a"],VLayout:j["a"],VSnackbar:B["a"],VTextField:I["a"]});var F={name:"Mass-Hysteria-Simulator",components:{Board:P},data:function(){return{}}},H=F,q=(e("034f"),e("7496")),N=e("549c"),D=e("553a"),G=e("9910"),J=e("71d9"),R=e("2a7f"),K=Object(C["a"])(H,o,l,!1,null,null,null);K.options.__file="App.vue";var Y=K.exports;S()(K,{VApp:q["a"],VBtn:A["a"],VContent:N["a"],VFooter:D["a"],VLayout:j["a"],VSpacer:G["a"],VToolbar:J["a"],VToolbarTitle:R["a"]}),r["default"].config.productionTip=!1,r["default"].use(i.a),new r["default"]({render:function(t){return t(Y)}}).$mount("#app")},b2e8:function(t,n,e){"use strict";var r=e("4bfd"),a=e.n(r);a.a}});
//# sourceMappingURL=app.916da709.js.map